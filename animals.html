<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Unsere Hunde zur Vermittlung - Lernen Sie die Hunde kennen, die ein neues Zuhause suchen">
    <title>Unsere Hunde - Boxerhof Bad Oeynhausen</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="boxerhof-style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#e67e22">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Boxerhof">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <div class="nav-logo">
                    <h1>🏡 Boxerhof Bad Oeynhausen</h1>
                </div>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">Über uns</a></li>
                    <li><a href="animals.html" class="active">Unsere Hunde</a></li>
                    <li><a href="gallery.html">Galerie</a></li>
                    <li><a href="pension.html">Pension</a></li>
                    <li><a href="adoption.html">Vermittlung</a></li>
                    <li><a href="contact.html">Kontakt</a></li>
                    <li><a href="support.html">Unterstützen</a></li>
                </ul>
                <div class="nav-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- Page Hero -->
        <section class="page-hero">
            <div class="container">
                <div class="hero-content">
                    <h1>Unsere Hunde zur Vermittlung</h1>
                    <p class="hero-subtitle">Lernen Sie unsere wunderbaren Hunde kennen, die ein liebevolles Zuhause suchen</p>
                </div>
            </div>
        </section>

        <!-- Animals Section -->
        <section class="animals-main">
            <div class="container">
                <!-- Filter and Search -->
                <div class="animals-controls">
                    <div class="search-section">
                        <div class="search-box">
                            <input type="text" id="animalSearch" placeholder="Hunde suchen..." />
                            <button class="search-btn">🔍</button>
                        </div>
                    </div>
                    
                    <div class="filter-section">
                        <div class="filter-group">
                            <label for="raceFilter">Nach Rasse filtern:</label>
                            <select id="raceFilter">
                                <option value="all">Alle Rassen</option>
                                <option value="boxer">Boxer</option>
                                <option value="labrador">Labrador</option>
                                <option value="mischling">Mischling</option>
                                <option value="schaeferhund">Schäferhund</option>
                                <option value="golden-retriever">Golden Retriever</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="sizeFilter">Nach Größe:</label>
                            <select id="sizeFilter">
                                <option value="all">Alle Größen</option>
                                <option value="klein">Klein (bis 30cm)</option>
                                <option value="mittel">Mittel (30-60cm)</option>
                                <option value="gross">Groß (über 60cm)</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="ageFilter">Nach Alter:</label>
                            <select id="ageFilter">
                                <option value="all">Alle Altersgruppen</option>
                                <option value="welpe">Welpe (bis 1 Jahr)</option>
                                <option value="jung">Jung (1-3 Jahre)</option>
                                <option value="adult">Erwachsen (3-7 Jahre)</option>
                                <option value="senior">Senior (über 7 Jahre)</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="sortFilter">Sortieren nach:</label>
                            <select id="sortFilter">
                                <option value="name">Name (A-Z)</option>
                                <option value="age-asc">Alter (jüngste zuerst)</option>
                                <option value="age-desc">Alter (älteste zuerst)</option>
                                <option value="arrival">Ankunft (neueste zuerst)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Results Info -->
                <div class="results-info">
                    <span id="resultsCount">Lade Hunde...</span>
                    <button id="clearFilters" class="btn btn-small btn-outline">Filter zurücksetzen</button>
                </div>

                <!-- Animals Grid -->
                <div class="animals-grid" id="animalsContainer">
                    <!-- Animals will be loaded dynamically -->
                    <div class="loading-message">
                        <div class="loading-icon">🐕</div>
                        <p>Lade unsere Hunde...</p>
                    </div>
                </div>

                <!-- No Results Message -->
                <div id="noResults" class="no-results" style="display: none;">
                    <div class="no-results-icon">🔍</div>
                    <h3>Keine Hunde gefunden</h3>
                    <p>Mit den aktuellen Filtereinstellungen wurden keine Hunde gefunden.</p>
                    <button onclick="clearAllFilters()" class="btn btn-primary">Filter zurücksetzen</button>
                </div>

                <!-- Emergency Dogs Section -->
                <div class="emergency-section">
                    <div class="emergency-header">
                        <h2>🚨 Notfälle - Dringend Hilfe benötigt</h2>
                        <p>Diese Hunde benötigen besonders dringend unsere Hilfe</p>
                    </div>
                    <div id="emergencyAnimals" class="emergency-grid">
                        <!-- Emergency animals will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="newsletter-section">
            <div class="container">
                <div class="newsletter-content">
                    <div class="newsletter-text">
                        <h2>🐕 Über neue Hunde informiert bleiben</h2>
                        <p class="newsletter-lead">
                            Erfahren Sie als Erste, wenn ein neuer Hund bei uns ankommt!
                        </p>
                        <p>
                            Melden Sie sich für unseren Newsletter an und erhalten Sie sofort eine 
                            Benachrichtigung, wenn neue Hunde bei uns ankommen oder erfolgreich 
                            vermittelt werden.
                        </p>
                    </div>
                    <div class="newsletter-form-wrapper">
                        <form class="newsletter-form" id="newsletterForm">
                            <h3>✉️ Newsletter abonnieren</h3>
                            <div class="form-group">
                                <label for="newsletter-name">Name (optional)</label>
                                <input type="text" id="newsletter-name" name="name" placeholder="Ihr Name">
                            </div>
                            <div class="form-group">
                                <label for="newsletter-email">E-Mail-Adresse *</label>
                                <input type="email" id="newsletter-email" name="email" required placeholder="ihre@email.de">
                            </div>
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="gdpr" required>
                                    <span class="checkbox-text">
                                        Ich stimme zu, dass meine E-Mail-Adresse für Newsletter-Zwecke gespeichert wird. 
                                        <a href="datenschutz.html" target="_blank">Datenschutzerklärung</a>
                                    </span>
                                </label>
                            </div>
                            <button type="submit" class="btn btn-primary newsletter-btn">
                                📧 Newsletter abonnieren
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Adoption Process Teaser -->
        <section class="adoption-teaser">
            <div class="container">
                <div class="teaser-content">
                    <h2>Interesse an einem unserer Hunde?</h2>
                    <p>
                        Erfahren Sie mehr über unseren Vermittlungsprozess und wie Sie einem 
                        unserer Hunde ein liebevolles Zuhause geben können.
                    </p>
                    <div class="teaser-buttons">
                        <a href="adoption.html" class="btn btn-primary">Vermittlungsprozess</a>
                        <a href="contact.html" class="btn btn-secondary">Kontakt aufnehmen</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>🏡 Boxerhof Bad Oeynhausen</h3>
                    <p>Ein liebevolles Zuhause für Hunde in Not</p>
                    <p class="footer-motto">Mit Herz und Hingabe für jedes Tier</p>
                </div>
                <div class="footer-section">
                    <h4>Navigation</h4>
                    <ul>
                        <li><a href="about.html">Über uns</a></li>
                        <li><a href="animals.html">Unsere Hunde</a></li>
                        <li><a href="pension.html">Pension</a></li>
                        <li><a href="adoption.html">Vermittlung</a></li>
                        <li><a href="gallery.html">Galerie</a></li>
                        <li><a href="contact.html">Kontakt</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Kontakt</h4>
                    <p>📧 info@boxerhof-badoeynhausen.de</p>
                    <p>📞 +49 (0) 5731 923 4567</p>
                    <p>📍 Boxerhof 1, 32547 Bad Oeynhausen</p>
                </div>
                <div class="footer-section">
                    <h4>Unterstützen</h4>
                    <p>Helfen Sie uns dabei, mehr Hunden zu helfen:</p>
                    <a href="support.html" class="btn btn-small btn-outline">Spenden</a>
                    <div class="social-links">
                        <a href="https://facebook.com/boxerhof" target="_blank" rel="noopener">
                            📘 Facebook
                        </a>
                        <a href="mailto:info@boxerhof-badoeynhausen.de">
                            ✉️ E-Mail
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Boxerhof Bad Oeynhausen. Teil der Boxer Nothilfe e.V. Mit Liebe für Hunde gemacht. 🐾</p>
                <div class="footer-legal">
                    <a href="impressum.html">Impressum</a>
                    <a href="datenschutz.html">Datenschutz</a>
                    <a href="admin.html" class="admin-footer-link">Admin</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Animal Detail Modal -->
    <div id="animalModal" class="animal-modal" style="display: none;">
        <div class="modal-overlay" onclick="closeAnimalModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeAnimalModal()">×</button>
            <div class="modal-body" id="animalModalContent">
                <!-- Animal details will be loaded here -->
            </div>
        </div>
    </div>

    <script src="newsletter-system.js"></script>
    <script src="animal-filter-system.js"></script>
    <script src="script.js"></script>
    
    <script>
        // Animals page specific functionality
        let allAnimals = [];
        let filteredAnimals = [];

        // Load animals on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadAnimals();
            setupFilters();
        });

        function loadAnimals() {
            // Load animals from localStorage (from admin panel)
            const storedAnimals = localStorage.getItem('boxerhof_animals');
            if (storedAnimals) {
                try {
                    allAnimals = JSON.parse(storedAnimals);
                } catch (error) {
                    console.error('Error loading animals:', error);
                    allAnimals = [];
                }
            }

            // If no animals in storage, use demo data
            if (allAnimals.length === 0) {
                allAnimals = getDemoAnimals();
            }

            filteredAnimals = [...allAnimals];
            displayAnimals();
            updateResultsCount();
        }

        function getDemoAnimals() {
            return [
                {
                    id: 1,
                    name: "Max",
                    type: "Hund",
                    breed: "Boxer",
                    age: "3 Jahre",
                    gender: "Männlich",
                    size: "Groß",
                    description: "Max ist ein freundlicher und verspielter Boxer, der gerne spielt und kuschelt. Er ist sehr sozial und versteht sich gut mit anderen Hunden.",
                    status: "Vermittlungsbereit",
                    arrivalDate: "2024-01-15",
                    energyLevel: "Hoch",
                    goodWith: {
                        dogs: true,
                        children: true,
                        cats: false
                    },
                    isEmergency: false
                },
                {
                    id: 2,
                    name: "Bella",
                    type: "Hund",
                    breed: "Labrador Mix",
                    age: "5 Jahre",
                    gender: "Weiblich",
                    size: "Mittel",
                    description: "Bella ist eine ruhige und liebevolle Hündin, die perfekt für eine Familie geeignet ist. Sie liebt lange Spaziergänge und ist sehr gehorsam.",
                    status: "Vermittlungsbereit",
                    arrivalDate: "2024-02-01",
                    energyLevel: "Mittel",
                    goodWith: {
                        dogs: true,
                        children: true,
                        cats: true
                    },
                    isEmergency: false
                },
                {
                    id: 3,
                    name: "Charlie",
                    type: "Hund",
                    breed: "Mischling",
                    age: "8 Jahre",
                    gender: "Männlich",
                    size: "Klein",
                    description: "Charlie ist ein ruhiger Senior-Hund, der ein gemütliches Zuhause für seine goldenen Jahre sucht. Er ist sehr verschmust und dankbar.",
                    status: "Vermittlungsbereit",
                    arrivalDate: "2024-01-20",
                    energyLevel: "Niedrig",
                    goodWith: {
                        dogs: true,
                        children: false,
                        cats: true
                    },
                    isEmergency: true
                }
            ];
        }

        function displayAnimals() {
            const container = document.getElementById('animalsContainer');
            const emergencyContainer = document.getElementById('emergencyAnimals');
            
            if (filteredAnimals.length === 0) {
                container.innerHTML = '';
                document.getElementById('noResults').style.display = 'block';
                return;
            }

            document.getElementById('noResults').style.display = 'none';

            // Regular animals
            const regularAnimals = filteredAnimals.filter(animal => !animal.isEmergency);
            container.innerHTML = regularAnimals.map(animal => createAnimalCard(animal)).join('');

            // Emergency animals
            const emergencyAnimals = filteredAnimals.filter(animal => animal.isEmergency);
            if (emergencyAnimals.length > 0) {
                emergencyContainer.innerHTML = emergencyAnimals.map(animal => createAnimalCard(animal, true)).join('');
                document.querySelector('.emergency-section').style.display = 'block';
            } else {
                document.querySelector('.emergency-section').style.display = 'none';
            }
        }

        function createAnimalCard(animal, isEmergency = false) {
            const compatibility = [];
            if (animal.goodWith?.dogs) compatibility.push('Hunden');
            if (animal.goodWith?.children) compatibility.push('Kindern');
            if (animal.goodWith?.cats) compatibility.push('Katzen');
            
            const compatibilityText = compatibility.length > 0 ? compatibility.join(', ') : 'Keine Angaben';
            const genderIcon = animal.gender === 'Männlich' ? '♂️' : '♀️';
            const emergencyClass = isEmergency ? 'emergency-card' : '';

            return `
                <div class="animal-card ${emergencyClass}" onclick="showAnimalDetails(${animal.id})">
                    ${isEmergency ? '<div class="emergency-badge">🚨 Notfall</div>' : ''}
                    <div class="animal-image">
                        <div class="image-placeholder">
                            <span class="placeholder-icon">🐕</span>
                        </div>
                    </div>
                    <div class="animal-info">
                        <h3>${animal.name} ${genderIcon}</h3>
                        <div class="animal-meta">
                            <span class="breed">${animal.breed}</span>
                            <span class="age">${animal.age}</span>
                            <span class="size">${animal.size}</span>
                        </div>
                        <p class="animal-description">${animal.description}</p>
                        <div class="animal-compatibility">
                            <strong>Verträglich mit:</strong> ${compatibilityText}
                        </div>
                        <div class="animal-actions">
                            <button class="btn btn-primary btn-small" onclick="event.stopPropagation(); showInterest(${animal.id})">
                                💝 Interesse zeigen
                            </button>
                            <button class="btn btn-outline btn-small" onclick="event.stopPropagation(); shareAnimal(${animal.id})">
                                📤 Teilen
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function setupFilters() {
            const filters = ['raceFilter', 'sizeFilter', 'ageFilter', 'sortFilter'];
            filters.forEach(filterId => {
                document.getElementById(filterId).addEventListener('change', applyFilters);
            });

            document.getElementById('animalSearch').addEventListener('input', applyFilters);
            document.getElementById('clearFilters').addEventListener('click', clearAllFilters);
        }

        function applyFilters() {
            const searchTerm = document.getElementById('animalSearch').value.toLowerCase();
            const raceFilter = document.getElementById('raceFilter').value;
            const sizeFilter = document.getElementById('sizeFilter').value;
            const ageFilter = document.getElementById('ageFilter').value;
            const sortFilter = document.getElementById('sortFilter').value;

            filteredAnimals = allAnimals.filter(animal => {
                // Search filter
                if (searchTerm && !animal.name.toLowerCase().includes(searchTerm) && 
                    !animal.breed.toLowerCase().includes(searchTerm) &&
                    !animal.description.toLowerCase().includes(searchTerm)) {
                    return false;
                }

                // Race filter
                if (raceFilter !== 'all' && animal.breed.toLowerCase() !== raceFilter) {
                    return false;
                }

                // Size filter
                if (sizeFilter !== 'all') {
                    const sizeMap = {
                        'klein': 'Klein',
                        'mittel': 'Mittel',
                        'gross': 'Groß'
                    };
                    if (animal.size !== sizeMap[sizeFilter]) {
                        return false;
                    }
                }

                // Age filter
                if (ageFilter !== 'all') {
                    const age = parseInt(animal.age);
                    switch (ageFilter) {
                        case 'welpe': return age <= 1;
                        case 'jung': return age > 1 && age <= 3;
                        case 'adult': return age > 3 && age <= 7;
                        case 'senior': return age > 7;
                    }
                }

                return true;
            });

            // Apply sorting
            filteredAnimals.sort((a, b) => {
                switch (sortFilter) {
                    case 'name':
                        return a.name.localeCompare(b.name);
                    case 'age-asc':
                        return parseInt(a.age) - parseInt(b.age);
                    case 'age-desc':
                        return parseInt(b.age) - parseInt(a.age);
                    case 'arrival':
                        return new Date(b.arrivalDate) - new Date(a.arrivalDate);
                    default:
                        return 0;
                }
            });

            displayAnimals();
            updateResultsCount();
        }

        function clearAllFilters() {
            document.getElementById('animalSearch').value = '';
            document.getElementById('raceFilter').value = 'all';
            document.getElementById('sizeFilter').value = 'all';
            document.getElementById('ageFilter').value = 'all';
            document.getElementById('sortFilter').value = 'name';
            
            filteredAnimals = [...allAnimals];
            displayAnimals();
            updateResultsCount();
        }

        function updateResultsCount() {
            const count = filteredAnimals.length;
            const countElement = document.getElementById('resultsCount');
            if (count === 0) {
                countElement.textContent = 'Keine Hunde gefunden';
            } else if (count === 1) {
                countElement.textContent = '1 Hund wartet auf ein neues Zuhause';
            } else {
                countElement.textContent = `${count} Hunde warten auf ein neues Zuhause`;
            }
        }

        function showAnimalDetails(animalId) {
            const animal = allAnimals.find(a => a.id === animalId);
            if (!animal) return;

            const modal = document.getElementById('animalModal');
            const content = document.getElementById('animalModalContent');
            
            const compatibility = [];
            if (animal.goodWith?.dogs) compatibility.push('🐕 Hunden');
            if (animal.goodWith?.children) compatibility.push('👶 Kindern');
            if (animal.goodWith?.cats) compatibility.push('🐱 Katzen');
            
            content.innerHTML = `
                <div class="animal-detail">
                    <div class="animal-detail-header">
                        <h2>${animal.name}</h2>
                        <span class="animal-gender">${animal.gender === 'Männlich' ? '♂️' : '♀️'}</span>
                    </div>
                    <div class="animal-detail-meta">
                        <span><strong>Rasse:</strong> ${animal.breed}</span>
                        <span><strong>Alter:</strong> ${animal.age}</span>
                        <span><strong>Größe:</strong> ${animal.size}</span>
                        <span><strong>Energielevel:</strong> ${animal.energyLevel || 'Unbekannt'}</span>
                    </div>
                    <div class="animal-detail-description">
                        <h3>Über ${animal.name}</h3>
                        <p>${animal.description}</p>
                    </div>
                    <div class="animal-detail-compatibility">
                        <h3>Verträglichkeit</h3>
                        <p>${compatibility.length > 0 ? compatibility.join(', ') : 'Keine spezifischen Angaben'}</p>
                    </div>
                    <div class="animal-detail-actions">
                        <button class="btn btn-primary" onclick="showInterest(${animal.id})">
                            💝 Interesse zeigen
                        </button>
                        <button class="btn btn-secondary" onclick="shareAnimal(${animal.id})">
                            📤 Teilen
                        </button>
                        <a href="contact.html" class="btn btn-outline">
                            📞 Kontakt aufnehmen
                        </a>
                    </div>
                </div>
            `;
            
            modal.style.display = 'flex';
        }

        function closeAnimalModal() {
            document.getElementById('animalModal').style.display = 'none';
        }

        function showInterest(animalId) {
            const animal = allAnimals.find(a => a.id === animalId);
            if (!animal) {
                alert('Fehler: Tier nicht gefunden.');
                return;
            }

            // Create interest form modal
            const interestModal = document.createElement('div');
            interestModal.className = 'modal interest-modal';
            interestModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
                padding: 20px;
                box-sizing: border-box;
            `;
            
            interestModal.innerHTML = `
                <div class="modal-content" style="
                    background: white;
                    padding: 30px;
                    border-radius: 12px;
                    max-width: 600px;
                    width: 100%;
                    max-height: 90vh;
                    overflow-y: auto;
                    position: relative;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                ">
                    <button class="modal-close" onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';" style="
                        position: absolute;
                        top: 15px;
                        right: 20px;
                        background: none;
                        border: none;
                        font-size: 24px;
                        cursor: pointer;
                        color: #666;
                        width: 30px;
                        height: 30px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border-radius: 50%;
                        transition: all 0.2s ease;
                    " onmouseover="this.style.background='#f0f0f0'" onmouseout="this.style.background='none'">×</button>
                    
                    <div class="interest-header" style="margin-bottom: 25px;">
                        <h3 style="color: #e67e22; margin: 0 0 10px 0; font-size: 24px;">💝 Interesse an ${animal.name}</h3>
                        <p style="color: #666; margin: 0; line-height: 1.5;">Vielen Dank für Ihr Interesse an ${animal.name}! Bitte füllen Sie das Formular aus, damit wir Sie kontaktieren können.</p>
                    </div>
                    
                    <form class="interest-form" onsubmit="submitInterest(event, ${animalId})" style="display: flex; flex-direction: column; gap: 20px;">
                        <div class="form-section" style="border: 1px solid #e0e0e0; padding: 20px; border-radius: 8px;">
                            <h4 style="color: #2c3e50; margin: 0 0 15px 0; font-size: 16px;">📋 Ihre Kontaktdaten</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-weight: 500; color: #333;">Name *</label>
                                    <input type="text" name="name" required style="
                                        width: 100%;
                                        padding: 10px;
                                        border: 1px solid #ddd;
                                        border-radius: 4px;
                                        font-size: 14px;
                                        box-sizing: border-box;
                                    ">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-weight: 500; color: #333;">E-Mail *</label>
                                    <input type="email" name="email" required style="
                                        width: 100%;
                                        padding: 10px;
                                        border: 1px solid #ddd;
                                        border-radius: 4px;
                                        font-size: 14px;
                                        box-sizing: border-box;
                                    ">
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-weight: 500; color: #333;">Telefon (optional)</label>
                                    <input type="tel" name="phone" style="
                                        width: 100%;
                                        padding: 10px;
                                        border: 1px solid #ddd;
                                        border-radius: 4px;
                                        font-size: 14px;
                                        box-sizing: border-box;
                                    ">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-weight: 500; color: #333;">Wohnort</label>
                                    <input type="text" name="city" style="
                                        width: 100%;
                                        padding: 10px;
                                        border: 1px solid #ddd;
                                        border-radius: 4px;
                                        font-size: 14px;
                                        box-sizing: border-box;
                                    ">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section" style="border: 1px solid #e0e0e0; padding: 20px; border-radius: 8px;">
                            <h4 style="color: #2c3e50; margin: 0 0 15px 0; font-size: 16px;">🏠 Ihre Situation</h4>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 500; color: #333;">Hundeerfahrung</label>
                                <select name="experience" required style="
                                    width: 100%;
                                    padding: 10px;
                                    border: 1px solid #ddd;
                                    border-radius: 4px;
                                    font-size: 14px;
                                    box-sizing: border-box;
                                ">
                                    <option value="">Bitte wählen</option>
                                    <option value="none">Nein, ich bin Anfänger</option>
                                    <option value="some">Ja, etwas Erfahrung</option>
                                    <option value="experienced">Ja, viel Erfahrung</option>
                                </select>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 5px; font-weight: 500; color: #333;">Wohnsituation</label>
                                <select name="housing" required style="
                                    width: 100%;
                                    padding: 10px;
                                    border: 1px solid #ddd;
                                    border-radius: 4px;
                                    font-size: 14px;
                                    box-sizing: border-box;
                                ">
                                    <option value="">Bitte wählen</option>
                                    <option value="apartment">Wohnung ohne Garten</option>
                                    <option value="apartment-balcony">Wohnung mit Balkon</option>
                                    <option value="house-small-garden">Haus mit kleinem Garten</option>
                                    <option value="house-large-garden">Haus mit großem Garten</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-section" style="border: 1px solid #e0e0e0; padding: 20px; border-radius: 8px;">
                            <h4 style="color: #2c3e50; margin: 0 0 15px 0; font-size: 16px;">💬 Nachricht (optional)</h4>
                            <textarea name="message" rows="4" placeholder="Erzählen Sie uns etwas über sich und warum Sie sich für ${animal.name} interessieren..." style="
                                width: 100%;
                                padding: 10px;
                                border: 1px solid #ddd;
                                border-radius: 4px;
                                font-size: 14px;
                                font-family: inherit;
                                resize: vertical;
                                box-sizing: border-box;
                            "></textarea>
                        </div>
                        
                        <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 10px;">
                            <button type="button" onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';" style="
                                padding: 12px 24px;
                                border: 1px solid #ddd;
                                background: white;
                                color: #666;
                                border-radius: 6px;
                                font-size: 14px;
                                cursor: pointer;
                                transition: all 0.2s ease;
                            " onmouseover="this.style.background='#f5f5f5'" onmouseout="this.style.background='white'">
                                Abbrechen
                            </button>
                            <button type="submit" style="
                                padding: 12px 24px;
                                border: none;
                                background: #e67e22;
                                color: white;
                                border-radius: 6px;
                                font-size: 14px;
                                cursor: pointer;
                                transition: all 0.2s ease;
                            " onmouseover="this.style.background='#d35400'" onmouseout="this.style.background='#e67e22'">
                                📧 Interesse senden
                            </button>
                        </div>
                    </form>
                </div>
            `;
            
            document.body.appendChild(interestModal);
            document.body.style.overflow = 'hidden';
            
            // Close on outside click
            interestModal.addEventListener('click', function(e) {
                if (e.target === interestModal) {
                    interestModal.remove();
                    document.body.style.overflow = 'auto';
                }
            });
        }

        function submitInterest(event, animalId) {
            event.preventDefault();
            
            const animal = allAnimals.find(a => a.id === animalId);
            const formData = new FormData(event.target);
            
            const interestData = {
                animal: animal.name,
                animalId: animalId,
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone') || 'Nicht angegeben',
                city: formData.get('city') || 'Nicht angegeben',
                experience: formData.get('experience'),
                housing: formData.get('housing'),
                message: formData.get('message') || 'Keine zusätzliche Nachricht',
                timestamp: new Date().toISOString()
            };
            
            // Store interest in localStorage (in a real app, this would go to a server)
            let interests = JSON.parse(localStorage.getItem('boxerhof_interests') || '[]');
            interests.push(interestData);
            localStorage.setItem('boxerhof_interests', JSON.stringify(interests));
            
            // Show success message
            const modal = event.target.closest('.modal');
            modal.innerHTML = `
                <div class="modal-content" style="
                    background: white;
                    padding: 40px;
                    border-radius: 12px;
                    max-width: 500px;
                    width: 100%;
                    text-align: center;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                ">
                    <div style="font-size: 64px; margin-bottom: 20px;">✅</div>
                    <h3 style="color: #27ae60; margin: 0 0 15px 0; font-size: 24px;">Vielen Dank für Ihr Interesse!</h3>
                    <p style="color: #666; margin: 0 0 25px 0; line-height: 1.6;">
                        Wir haben Ihre Anfrage für <strong style="color: #e67e22;">${animal.name}</strong> erhalten und werden uns schnellstmöglich bei Ihnen melden.
                    </p>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 25px; text-align: left;">
                        <h4 style="color: #2c3e50; margin: 0 0 15px 0; font-size: 16px;">📋 Wie geht es weiter?</h4>
                        <ul style="margin: 0; padding-left: 20px; color: #555; line-height: 1.6;">
                            <li style="margin-bottom: 8px;">📞 Wir rufen Sie in den nächsten 24-48 Stunden an</li>
                            <li style="margin-bottom: 8px;">💬 Wir besprechen Ihre Wünsche und Möglichkeiten</li>
                            <li style="margin-bottom: 8px;">🏠 Bei Interesse vereinbaren wir einen Besuchstermin</li>
                            <li style="margin-bottom: 8px;">🐕 Sie lernen ${animal.name} persönlich kennen</li>
                        </ul>
                    </div>
                    
                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';" style="
                            padding: 12px 24px;
                            border: none;
                            background: #e67e22;
                            color: white;
                            border-radius: 6px;
                            font-size: 14px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                        " onmouseover="this.style.background='#d35400'" onmouseout="this.style.background='#e67e22'">
                            Verstanden
                        </button>
                        <button onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto'; showAnimalDetails(${animalId});" style="
                            padding: 12px 24px;
                            border: 1px solid #ddd;
                            background: white;
                            color: #666;
                            border-radius: 6px;
                            font-size: 14px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                        " onmouseover="this.style.background='#f5f5f5'" onmouseout="this.style.background='white'">
                            Zurück zu ${animal.name}
                        </button>
                    </div>
                </div>
            `;
            
            // Auto-close after 8 seconds
            setTimeout(() => {
                if (document.body.contains(modal)) {
                    modal.remove();
                    document.body.style.overflow = 'auto';
                }
            }, 8000);
        }

        async function shareAnimal(animalId) {
            const animal = allAnimals.find(a => a.id === animalId);
            if (!animal) return;

            const shareData = {
                title: `${animal.name} sucht ein Zuhause - Boxerhof Bad Oeynhausen`,
                text: `${animal.name}, ein ${animal.age} alter ${animal.breed}, sucht ein liebevolles Zuhause. ${animal.description}`,
                url: `${window.location.origin}/animals.html#animal-${animalId}`
            };

            // Try native sharing first (mobile devices)
            if (navigator.share) {
                try {
                    await navigator.share(shareData);
                    return;
                } catch (error) {
                    console.log('Native sharing cancelled');
                }
            }
            
            // Fallback: Show share modal
            const shareModal = document.createElement('div');
            shareModal.className = 'modal share-modal';
            shareModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
                padding: 20px;
                box-sizing: border-box;
            `;
            
            shareModal.innerHTML = `
                <div class="modal-content" style="
                    background: white;
                    padding: 30px;
                    border-radius: 12px;
                    max-width: 500px;
                    width: 100%;
                    position: relative;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                ">
                    <button class="modal-close" onclick="this.closest('.modal').remove(); document.body.style.overflow = 'auto';" style="
                        position: absolute;
                        top: 15px;
                        right: 20px;
                        background: none;
                        border: none;
                        font-size: 24px;
                        cursor: pointer;
                        color: #666;
                        width: 30px;
                        height: 30px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border-radius: 50%;
                        transition: all 0.2s ease;
                    " onmouseover="this.style.background='#f0f0f0'" onmouseout="this.style.background='none'">×</button>
                    
                    <h3 style="color: #e67e22; margin: 0 0 15px 0; font-size: 24px;">📤 ${animal.name} teilen</h3>
                    <p style="color: #666; margin: 0 0 25px 0; line-height: 1.5;">Helfen Sie uns dabei, ein Zuhause für ${animal.name} zu finden!</p>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px;">
                        <button onclick="shareOnFacebook('${encodeURIComponent(shareData.url)}', '${encodeURIComponent(shareData.text)}')" style="
                            padding: 12px;
                            border: none;
                            background: #1877f2;
                            color: white;
                            border-radius: 6px;
                            font-size: 14px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 8px;
                        " onmouseover="this.style.background='#166fe5'" onmouseout="this.style.background='#1877f2'">
                            📘 Facebook
                        </button>
                        <button onclick="shareOnWhatsApp('${encodeURIComponent(shareData.text + ' ' + shareData.url)}')" style="
                            padding: 12px;
                            border: none;
                            background: #25d366;
                            color: white;
                            border-radius: 6px;
                            font-size: 14px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 8px;
                        " onmouseover="this.style.background='#20ba5a'" onmouseout="this.style.background='#25d366'">
                            💬 WhatsApp
                        </button>
                        <button onclick="shareViaEmail('${encodeURIComponent(shareData.title)}', '${encodeURIComponent(shareData.text + '\\n\\n' + shareData.url)}')" style="
                            padding: 12px;
                            border: none;
                            background: #ea4335;
                            color: white;
                            border-radius: 6px;
                            font-size: 14px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 8px;
                        " onmouseover="this.style.background='#d33b2c'" onmouseout="this.style.background='#ea4335'">
                            ✉️ E-Mail
                        </button>
                        <button onclick="copyShareToClipboard('${shareData.url}', this)" style="
                            padding: 12px;
                            border: 1px solid #ddd;
                            background: white;
                            color: #333;
                            border-radius: 6px;
                            font-size: 14px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 8px;
                        " onmouseover="this.style.background='#f5f5f5'" onmouseout="this.style.background='white'">
                            📋 Link kopieren
                        </button>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 500; color: #333;">Direkter Link:</label>
                        <input type="text" value="${shareData.url}" readonly onclick="this.select()" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 12px;
                            background: #f8f9fa;
                            box-sizing: border-box;
                        ">
                    </div>
                </div>
            `;
            
            document.body.appendChild(shareModal);
            document.body.style.overflow = 'hidden';
            
            // Close on outside click
            shareModal.addEventListener('click', function(e) {
                if (e.target === shareModal) {
                    shareModal.remove();
                    document.body.style.overflow = 'auto';
                }
            });
        }

        function shareOnFacebook(url, text) {
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, '_blank');
        }

        function shareOnWhatsApp(text) {
            window.open(`https://wa.me/?text=${text}`, '_blank');
        }

        function shareViaEmail(subject, body) {
            window.location.href = `mailto:?subject=${subject}&body=${body}`;
        }

        function copyShareToClipboard(text, button) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.innerHTML;
                button.innerHTML = '✅ Kopiert!';
                button.style.background = '#27ae60';
                button.style.color = 'white';
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = 'white';
                    button.style.color = '#333';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy: ', err);
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                const originalText = button.innerHTML;
                button.innerHTML = '✅ Kopiert!';
                setTimeout(() => {
                    button.innerHTML = originalText;
                }, 2000);
            });
        }

        // Close modal when clicking outside
        document.getElementById('animalModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAnimalModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeAnimalModal();
            }
        });
    </script>
</body>
</html>